# ────────────────────────────────────────────────────────────────────────────────
# http-honeypot — environment variable reference
# Copy this file to .env and fill in your values.
# The .env file is loaded automatically by docker-compose.
# ────────────────────────────────────────────────────────────────────────────────

# ── General ──────────────────────────────────────────────────────────────────

# Human-readable name for this honeypot instance (included in notifications)
NAME=my-honeypot

# Host port the honeypot listens on (container always uses 80)
HONEYPOT_PORT=80

# ── Tar-pit ───────────────────────────────────────────────────────────────────

# Maximum random delay (in seconds) added to every response to waste attacker
# time. Delay is drawn from crypto/rand in [0, TAR_PIT_MAX_SEC]. Default: 20.
TAR_PIT_MAX_SEC=20

# ── Rate limiting ─────────────────────────────────────────────────────────────

# Maximum requests per IP per minute before a 429 is returned.
# Set very high so the honeypot continues to collect rich data.
# Default: 1000
RATE_LIMIT_PER_MIN=1000

# ── Logging ───────────────────────────────────────────────────────────────────

# Set to "true" to disable ALL file logging. Pushover and webhook
# notifications continue to fire when LOG_DISABLED=true.
LOG_DISABLED=false

# Rotate /var/log/honeypot.jsonl when it exceeds this size (in MB).
# The old file is renamed with a timestamp suffix. Default: 100
LOG_MAX_SIZE_MB=100

# ── Pushover push notifications ───────────────────────────────────────────────
# https://pushover.net/
#
# Application API token
PUSHOVER_APP=

# User/group recipient key
PUSHOVER_RECIPIENT=

# ISO 3166-1 alpha-2 country code — send a Pushover alert when a request
# originates from this country (throttled to once per hour).
# Example: DE  US  CN  RU
PUSHOVER_NOTIFY_COUNTRY=

# ── Generic webhook ───────────────────────────────────────────────────────────
# POST JSON payload to this URL on every attack event and country notification.
# Compatible with n8n, Slack incoming webhooks, Make, Zapier, etc.
# Payload includes: event, server, timestamp, ip, method, host, path,
# user_agent, is_attack, attack_tag, post_body (if any), ipinfo.
WEBHOOK_URL=

# Optional shared secret sent in the X-Honeypot-Secret header.
WEBHOOK_SECRET=

# ── Prometheus metrics endpoint (/metrics) ────────────────────────────────────
# Protected by HTTP Basic Auth.
METRICS_USER=admin
METRICS_PASSWORD=changeme
METRICS_REALM=Prometheus Server
